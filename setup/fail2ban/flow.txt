âœ… 1. Installation
bash
Kopieren
Bearbeiten
sudo apt update
sudo apt install fail2ban -y
ğŸ› ï¸ 2. Konfigurationsdatei anlegen
bash
Kopieren
Bearbeiten
sudo cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local
Bearbeite die Datei:

bash
Kopieren
Bearbeiten
sudo nano /etc/fail2ban/jail.local
ğŸ”’ 3. Basis-Schutz aktivieren
Aktiviere Logging-Schutz fÃ¼r Nginx & SSH:

ini
Kopieren
Bearbeiten
[sshd]
enabled = true

[nginx-http-auth]
enabled = true

[nginx-botsearch]
enabled = true

[nginx-404]
enabled = true
filter = nginx-404
logpath = /var/log/nginx/access.log
maxretry = 5
findtime = 600
bantime = 3600
ğŸ“‚ 4. Filter fÃ¼r 404-Scanning anlegen
Erstelle Datei:

bash
Kopieren
Bearbeiten
sudo nano /etc/fail2ban/filter.d/nginx-404.conf
Inhalt:

ini
Kopieren
Bearbeiten
[Definition]
failregex = ^<HOST> -.*"(GET|POST).*(HTTP).*" 404
ğŸš€ 5. Start & Autostart aktivieren
bash
Kopieren
Bearbeiten
sudo systemctl enable fail2ban
sudo systemctl restart fail2ban
ğŸ” 6. Status & Logs prÃ¼fen
bash
Kopieren
Bearbeiten
sudo fail2ban-client status
sudo fail2ban-client status nginx-404
ğŸ§¼ Optional: IP manuell entbannen
bash
Kopieren
Bearbeiten
sudo fail2ban-client unban <IP>
âœ… Ergebnis
Automatischer Schutz gegen Scanner & Bot-Netze

IPs mit verdÃ¤chtigem Verhalten werden gebannt

Normale Nutzer Ã¼ber Views sind nicht betroffen

Fertig. Du bist jetzt deutlich besser abgesichert.